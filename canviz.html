<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Canvas Legbutt</title>
    <style>
      #field {
        width: 300px;
        height: 300px;
        background-color: black;
        position: relative;
      }

      #player {
        position: absolute;
        left: 0;
        top: 0;
      }
    </style>
  </head>
  <body>
    <div id="field" style="margin: 0 auto;">
      <img id="player" src="" width="20" height="20">
    </div>
    <div style="text-align:center">
        <div style="text-align:center">
        <button type="button" id="upButton">^</button>
        </div>
        <button type="button" id="leftButton"><</button>
        <button type="button" id="downButton">v</button>
        <button type="button" id="rightButton">></button>
    </div>
  </body>
</html>

<script>
// set the initial scale for mobile devices
const viewportMeta = document.querySelector('meta[name="viewport"]');
viewportMeta.setAttribute('content', 'width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no');

// set up player image
const playerImg = document.getElementById('player');
playerImg.src = "peck.jpg";

// set up player position and movement
let playerX = 0;
let playerY = 0;

// function to handle button clicks/touches
function movePlayer(direction) {
  // move player up
  if (direction === 'up' && playerY > 0) {
    playerY -= 20;
    playerImg.style.top = `${playerY}px`;
  }

  // move player down
  if (direction === 'down' && playerY < 280) {
    playerY += 20;
    playerImg.style.top = `${playerY}px`;
  }

  // move player left
  if (direction === 'left' && playerX > 0) {
    playerX -= 20;
    playerImg.style.left = `${playerX}px`;
  }

  // move player right
  if (direction === 'right' && playerX < 280) {
    playerX += 20;
    playerImg.style.left = `${playerX}px`;
  }
}

// add click/touch listeners for directional buttons
document.getElementById('upButton').addEventListener('click', () => movePlayer('up'));
document.getElementById('downButton').addEventListener('click', () => movePlayer('down'));
document.getElementById('leftButton').addEventListener('click', () => movePlayer('left'));
document.getElementById('rightButton').addEventListener('click', () => movePlayer('right'));
document.getElementById('upButton').addEventListener('touchstart', () => movePlayer('up'));
document.getElementById('downButton').addEventListener('touchstart', () => movePlayer('down'));
document.getElementById('leftButton').addEventListener('touchstart', () => movePlayer('left'));
document.getElementById('rightButton').addEventListener('touchstart', () => movePlayer('right'));

// add arrow key listener for desktop users
document.addEventListener('keydown', (event) => {
  switch (event.key) {
    case 'ArrowUp':
      movePlayer('up');
      break;
    case 'ArrowDown':
      movePlayer('down');
      break;
    case 'ArrowLeft':
      movePlayer('left');
      break;
    case 'ArrowRight':
      movePlayer('right');
      break;
    default:
      break;
  }
});

</script>


